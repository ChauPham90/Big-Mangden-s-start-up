(this["webpackJsonpfont-end"]=this["webpackJsonpfont-end"]||[]).push([[0],{31:function(e,t,a){e.exports=a(43)},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),o=a.n(l),c=a(11),i=a(5),s=a(12),m=a(6),u=a(17),d=a(47),p=a(45),f=a(46),g=a(48),E="http://localhost:8000/",h=function(){return void 0!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},b=function(e,t){if(e.location.pathname===t)return{color:"#ff9900"}},v=Object(i.g)((function(e){var t=e.history;return r.a.createElement("div",null,r.a.createElement(g.a,{variant:"pills"},r.a.createElement(g.a.Item,null,r.a.createElement(g.a.Link,{href:"/",eventKey:"link-1",style:b(t,"/home")},"Home")),!h()&&r.a.createElement(n.Fragment,null,r.a.createElement(g.a.Item,null,r.a.createElement(g.a.Link,{href:"/signin",eventKey:"link-2",style:b(t,"/signin")},"Sign In")),r.a.createElement(g.a.Item,null,r.a.createElement(g.a.Link,{href:"/signup",eventKey:"link-3",style:b(t,"/signup")},"Sign Up"))),h()&&r.a.createElement(n.Fragment,null,r.a.createElement(g.a.Item,null,r.a.createElement(g.a.Link,{href:"/",eventKey:"link-3",style:{cursor:"pointer"},onClick:function(){"undefined"!==typeof window&&localStorage.removeItem("jwt"),fetch("".concat(E,"signout"),{method:"GET"}).then((function(e){console.log(" sign out ",e)})).catch((function(e){return console.log(e)}))}},"Sign Out")))))})),y=function(e){var t=e.title,a=void 0===t?"title":t,n=e.description,l=void 0===n?"description":n,o=e.children,c=e.className;return r.a.createElement("div",null,r.a.createElement(v,null),r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h2",null,a),r.a.createElement("p",{className:"lead"},l)),r.a.createElement("div",{className:c},o))},j=function(){var e=Object(n.useState)({name:"",email:"",password:"",error:"",success:!1}),t=Object(u.a)(e,2),a=t[0],l=t[1],o=function(e){return function(t){l(Object(m.a)(Object(m.a)({},a),{},Object(s.a)({error:!1},e,t.target.value)))}},i=a.name,g=a.email,h=a.password,b=a.success,v=a.error,j=function(e){var t;e.preventDefault(),l(Object(m.a)(Object(m.a)({},a),{},{error:!1})),(t={name:i,email:g,password:h},fetch("".concat(E,"signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){e.error?l(Object(m.a)(Object(m.a)({},a),{},{error:e.error,success:!1})):l(Object(m.a)(Object(m.a)({},a),{},{name:"",email:"",password:"",error:"",success:!0}))}))};return r.a.createElement(y,{title:"Sign up Page",description:" Sign up to Node React Big Mang Den App",className:"container col-xl-6 offset-xl-3 "},r.a.createElement(d.a,null,r.a.createElement(d.a.Group,{controlId:"formBasicName"},r.a.createElement(d.a.Label,null,"Name"),r.a.createElement(d.a.Control,{type:"name",placeholder:"Enter name",onChange:o("name"),value:i}),r.a.createElement(d.a.Text,{className:"text-muted"})),r.a.createElement(d.a.Group,{controlId:"formBasicEmail"},r.a.createElement(d.a.Label,null,"Email address"),r.a.createElement(d.a.Control,{type:"email",placeholder:"Enter email",onChange:o("email"),value:g}),r.a.createElement(d.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(d.a.Group,{controlId:"formBasicPassword"},r.a.createElement(d.a.Label,null,"Password"),r.a.createElement(d.a.Control,{type:"password",placeholder:"Password",onChange:o("password"),value:h})),r.a.createElement(p.a,{variant:"primary",type:"submit",onClick:j},"Submit")),r.a.createElement(f.a,{variant:"danger",style:{display:v?"":"none"}},v),r.a.createElement(f.a,{variant:"info",style:{display:b?"":"none"}},"New accout is created. Please ",r.a.createElement(c.b,{to:"/signin"},"Signin")))},w=function(){var e=Object(n.useState)({email:"chaupham.dev@gmail.com",password:"Chau369!",error:"",loading:!1,redirectToReferrer:!1}),t=Object(u.a)(e,2),a=t[0],l=t[1],o=a.email,c=a.password,g=a.loading,h=a.error,b=a.redirectToReferrer,v=function(e){return function(t){l(Object(m.a)(Object(m.a)({},a),{},Object(s.a)({error:!1,loading:!0},e,t.target.value)))}},j=function(e){var t;e.preventDefault(),l(Object(m.a)(Object(m.a)({},a),{},{error:!1})),(t={email:o,password:c},fetch("".concat(E,"signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){e.error?l(Object(m.a)(Object(m.a)({},a),{},{error:e.error,loading:!1})):function(e,t){"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())}(e,(function(){l(Object(m.a)(Object(m.a)({},a),{},{redirectToReferrer:!0}))}))})).catch((function(e){return console.log(e)}))};return r.a.createElement(y,{title:"Sign In Page",description:" Sign In to Node React Big Mang Den App",children:"http://localhost:8000/",className:"container col-xl-6 offset-xl-3 "},r.a.createElement(d.a,null,r.a.createElement(d.a.Group,{controlId:"formBasicEmail"},r.a.createElement(d.a.Label,null,"Email address"),r.a.createElement(d.a.Control,{type:"email",placeholder:"Enter email",onChange:v("email"),value:o})),r.a.createElement(d.a.Group,{controlId:"formBasicPassword"},r.a.createElement(d.a.Label,null,"Password"),r.a.createElement(d.a.Control,{type:"password",placeholder:"Password",onChange:v("password"),value:c})),r.a.createElement(p.a,{variant:"primary",type:"submit",onClick:j},"Log in")),r.a.createElement(f.a,{variant:"danger",style:{display:h?"":"none"}},h),g&&r.a.createElement(f.a,{variant:"info"},"Loading...."),function(){if(b)return r.a.createElement(i.a,{to:"/"})}())},O=function(){return r.a.createElement(y,{title:"Home Page",description:"Node React Big Mang Den App",children:"Wellcome Big Mang Den Hostel"})},S=function(){return r.a.createElement(c.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/signup",exact:!0,component:j}),r.a.createElement(i.b,{path:"/signin",exact:!0,component:w}),r.a.createElement(i.b,{path:"/",exact:!0,component:O})))};a(42);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.50016908.chunk.js.map